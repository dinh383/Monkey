(function(n,t){if(typeof define=="function"&&define.amd)define("/Section/Menubar",["exports","jquery","Component"],t);else if(typeof exports!="undefined")t(exports,require("jquery"),require("Component"));else{var i={exports:{}};t(i.exports,n.jQuery,n.Component);n.SectionMenubar=i.exports}})(this,function(n,t,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=babelHelpers.interopRequireDefault(t),e=babelHelpers.interopRequireDefault(i),r=u.default("body"),f=u.default("html"),o=function(){function n(t){babelHelpers.classCallCheck(this,n);this.$el=t;this.native=!1;this.api=null;this.init()}return babelHelpers.createClass(n,[{key:"init",value:function(){if(r.is(".site-menubar-native")){this.native=!0;return}this.api=this.$el.asScrollable({namespace:"scrollable",skin:"scrollable-inverse",direction:"vertical",contentSelector:">",containerSelector:">"}).data("asScrollable")}},{key:"update",value:function(){this.api&&this.api.update()}},{key:"enable",value:function(){this.native||(this.api||this.init(),this.api&&this.api.enable())}},{key:"disable",value:function(){this.api&&this.api.disable()}}]),n}(),s=function(n){function t(){var r,n;babelHelpers.classCallCheck(this,t);for(var u=arguments.length,f=Array(u),i=0;i<u;i++)f[i]=arguments[i];if(n=babelHelpers.possibleConstructorReturn(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(f))),n.setupMenu(),n.$menuBody=n.$el.children(".mm-panels"),n.$menuBody.length>0)n.initialized=!0;else return n.initialized=!1,babelHelpers.possibleConstructorReturn(n);return n.scrollable=new o(n.$menuBody),n}return babelHelpers.inherits(t,n),babelHelpers.createClass(t,[{key:"processed",value:function(){f.removeClass("css-menubar").addClass("js-menubar");this.change(this.getState("menubarType"))}},{key:"setupMenu",value:function(){typeof u.default.fn.mmenu!="undefined"&&this.$el.mmenu({offCanvas:!1,navbars:[{position:"bottom",content:['<div class="site-menubar-footer">\n              <a href="javascript: void(0);" class="fold-show" data-placement="top" data-toggle="tooltip" data-original-title="Settings">\n                <span class="icon md-settings" aria-hidden="true"><\/span>\n              <\/a>\n              <a href="/portal/auth/lock" data-placement="top" data-toggle="tooltip" data-original-title="Lock">\n                <span class="icon md-eye-off" aria-hidden="true"><\/span>\n              <\/a>\n              <a href="/portal/auth/signout" data-placement="top" data-toggle="tooltip" data-original-title="Logout">\n                <span class="icon md-power" aria-hidden="true"><\/span>\n              <\/a>\n            <\/div>']}]})}},{key:"getDefaultState",value:function(){return{menubarType:"unfold"}}},{key:"getDefaultActions",value:function(){return{menubarType:"change"}}},{key:"getMenuApi",value:function(){return this.$el.data("mmenu")}},{key:"update",value:function(){this.scrollable.update()}},{key:"change",value:function(n){this.initialized&&(this.reset(),this[n]())}},{key:"animate",value:function(n){var t=this,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};r.addClass("site-menubar-changing");n.call(this);this.$el.trigger("changing.site.menubar");setTimeout(function(){i.call(t);r.removeClass("site-menubar-changing");t.update();t.$el.trigger("changed.site.menubar")},500)}},{key:"hoverTrigger",value:function(){var n=this;this.$el.on("mouseenter",function(){r.addClass("site-menubar-hover");setTimeout(function(){n.scrollable.enable()},500)}).on("mouseleave",function(){r.removeClass("site-menubar-hover");var t=n.getMenuApi();t&&t.openPanel(u.default("#mm-0"));setTimeout(function(){n.scrollable.disable()},500)})}},{key:"hoverTriggerOff",value:function(){this.$el.off("mouseenter");this.$el.off("mouseleave")}},{key:"reset",value:function(){r.removeClass("site-menubar-hide site-menubar-open site-menubar-fold site-menubar-unfold");f.removeClass("disable-scrolling")}},{key:"open",value:function(){this.animate(function(){r.addClass("site-menubar-open site-menubar-unfold");f.addClass("disable-scrolling")},function(){this.scrollable.enable()})}},{key:"hide",value:function(){this.animate(function(){r.addClass("site-menubar-hide site-menubar-unfold")},function(){this.scrollable.enable()})}},{key:"unfold",value:function(){this.animate(function(){r.addClass("site-menubar-unfold");this.hoverTriggerOff()},function(){this.scrollable.enable();this.triggerResize()})}},{key:"fold",value:function(){this.scrollable.disable();this.animate(function(){r.addClass("site-menubar-fold");this.hoverTrigger()},function(){this.triggerResize()})}}]),t}(e.default);n.default=s});