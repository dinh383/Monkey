var owl={initToolTip:function(){$('[data-toggle="tooltip"]').tooltip()},initBootBox:function(){$('[data-plugin="confirm"]').click(function(){var n=$(this);bootbox.dialog({title:n.data("confirm-title"),message:n.data("confirm-message"),buttons:{danger:{label:"Confirm",className:"btn-danger",callback:function(){var t=n.data("confirm-action");eval(t)}},main:{label:"Cancel",className:"btn-primary",callback:function(){}}}})})},initRequiredField:function(){$('[data-val-required!=""]').each(function(n,t){var i=$("label[for='"+$(this).attr("id")+"']");i.length===0?$(t).closest(".row").find("label").each(function(n,t){t.children.length===0&&$(t).append('<span style="color:#f46c93"> *<\/span>')}):i[0].children.length===0&&$(i).append('<span style="color:#f46c93"> *<\/span>')})},setupAjax:function(){$.ajaxSetup({type:"POST",cache:!1,error:function(n){if(console.log("ajax error",t),n.status==401||n.status==403)window.location.href="/Portal/Auth";else if(n.status==404||n.status==403)window.location.href="/Portal";else{var t=JSON.parse(n.responseText);t.code?owl.notify("Error",t.message,"error"):owl.notify("Error","System error, please try again later or contact administrator!","error")}}})},notify:function(n,t,i,r){r=r||{};n=n||undefined;t=t||"";i=i||"info";r.progressBar=r.progressBar||!0;r.timeOut=r.timeOut||5e3;r.preventDuplicates=r.preventDuplicates||!1;switch(i){case"success":toastr.success(t,n,r);break;case"warning":toastr.warning(t,n,r);break;case"error":toastr.error(t,n,r);break;case"info":toastr.info(t,n,r);break;default:toastr.info(t,n,r)}}};$(function(){owl.setupAjax();owl.initRequiredField();owl.initToolTip();owl.initBootBox()});