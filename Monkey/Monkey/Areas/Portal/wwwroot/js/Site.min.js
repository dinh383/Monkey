(function(n,t){if(typeof define=="function"&&define.amd)define("/Site",["exports","jquery","Config","Base","Menubar","Sidebar","PageAside"],t);else if(typeof exports!="undefined")t(exports,require("jquery"),require("Config"),require("Base"),require("Menubar"),require("Sidebar"),require("PageAside"));else{var i={exports:{}};t(i.exports,n.jQuery,n.Config,n.Base,n.SectionMenubar,n.SectionSidebar,n.SectionPageAside);n.Site=i.exports}})(this,function(n,t,i,r,u,f,e){"use strict";function v(){return a||(a=new l),a}function d(){var n=v();n.run()}Object.defineProperty(n,"__esModule",{value:!0});n.getInstance=n.run=n.Site=undefined;var o=babelHelpers.interopRequireDefault(t),y=babelHelpers.interopRequireWildcard(i),p=babelHelpers.interopRequireDefault(r),w=babelHelpers.interopRequireDefault(u),b=babelHelpers.interopRequireDefault(f),k=babelHelpers.interopRequireDefault(e),h=document,c=o.default(document),s=o.default("body"),l=function(n){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,n),babelHelpers.createClass(t,[{key:"willProcess",value:function(){this.startLoading();this.initializePluginAPIs();this.initializePlugins()}},{key:"processed",value:function(){this.polyfillIEWidth();this.initBootstrap();this.setupMenubar();this.setupFullScreen();this.setupMegaNavbar();this.setupWave();this.setupTour();this.setupNavbarCollpase();this.$el.on("click",".dropdown-menu-media",function(n){n.stopPropagation()})}},{key:"_getDefaultMeunbarType",value:function(){var t=this.getCurrentBreakpoint(),n=!1;(s.data("autoMenubar")===!1||s.is(".site-menubar-keep"))&&(s.hasClass("site-menubar-fold")?n="fold":s.hasClass("site-menubar-unfold")&&(n="unfold"));switch(t){case"lg":case"md":case"sm":n=n||"fold";break;case"xs":n="hide"}return n}},{key:"getDefaultState",value:function(){var n=this._getDefaultMeunbarType();return{menubarType:n}}},{key:"getDefaultActions",value:function(){return{menubarType:function(n){var t=function(t){t.toggleClass("hided",!(n==="open"));t.toggleClass("unfolded",!(n==="fold"))};o.default('[data-toggle="menubar"]').each(function(){var i=o.default(this),n=o.default(this).find(".hamburger");n.length>0?t(n):t(i)})}}}},{key:"getDefaultChildren",value:function(){var i=new w.default({$el:o.default(".site-menubar")}),r=new b.default,n=[i,r],t=o.default(".page-aside");return t.length>0&&n.push(new k.default({$el:t})),n}},{key:"getCurrentBreakpoint",value:function(){var n=Breakpoints.current();return n?n.name:"lg"}},{key:"initBootstrap",value:function(){c.tooltip({selector:"[data-tooltip=true]",container:"body"});o.default('[data-toggle="tooltip"]').tooltip();o.default('[data-toggle="popover"]').popover()}},{key:"polyfillIEWidth",value:function(){if(navigator.userAgent.match(/IEMobile\/10\.0/)){var n=h.createElement("style");n.appendChild(h.createTextNode("@-ms-viewport{width:auto!important}"));h.querySelector("head").appendChild(n)}}},{key:"setupFullScreen",value:function(){if(typeof screenfull!="undefined"){c.on("click",'[data-toggle="fullscreen"]',function(){return screenfull.enabled&&screenfull.toggle(),!1});screenfull.enabled&&h.addEventListener(screenfull.raw.fullscreenchange,function(){o.default('[data-toggle="fullscreen"]').toggleClass("active",screenfull.isFullscreen)})}}},{key:"setupNavbarCollpase",value:function(){o.default(document).on("click","[data-target='#site-navbar-collapse']",function(){var n=o.default(this),t=n.hasClass("collapsed");s.addClass("site-navbar-collapsing");s.toggleClass("site-navbar-collapse-show",!t);setTimeout(function(){s.removeClass("site-navbar-collapsing")},350)})}},{key:"setupMegaNavbar",value:function(){c.on("click",".navbar-mega .dropdown-menu",function(n){n.stopPropagation()}).on("show.bs.dropdown",function(n){var r=o.default(n.target),u=n.relatedTarget?o.default(n.relatedTarget):r.children('[data-toggle="dropdown"]'),t=u.data("animation"),i;if(t){i=r.children(".dropdown-menu");i.addClass("animation-"+t).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i.removeClass("animation-"+t)})}}).on("shown.bs.dropdown",function(n){var t=o.default(n.target).find(".dropdown-menu-media > .list-group"),i;t.length>0&&(i=t.data("asScrollable"),i?i.update():t.asScrollable({namespace:"scrollable",contentSelector:"> [data-role='content']",containerSelector:"> [data-role='container']"}))})}},{key:"setupMenubar",value:function(){var n=this;o.default(document).on("click",'[data-toggle="menubar"]',function(){var t=n.getState("menubarType");switch(t){case"fold":t="unfold";break;case"unfold":t="fold";break;case"open":t="hide";break;case"hide":t="open"}return n.setState("menubarType",t),!1});Breakpoints.on("change",function(){n.setState("menubarType",n._getDefaultMeunbarType())})}},{key:"startLoading",value:function(){if(typeof o.default.fn.animsition=="undefined")return!1;s.animsition({inClass:"fade-in",inDuration:800,loading:!0,loadingClass:"loader-overlay",loadingParentElement:"html",loadingInner:'\n      <div class="loader-content">\n        <div class="loader-index">\n          <div><\/div>\n          <div><\/div>\n          <div><\/div>\n          <div><\/div>\n          <div><\/div>\n          <div><\/div>\n        <\/div>\n      <\/div>',onLoadEvent:!0})}},{key:"setupTour",value:function(){if(typeof this.tour=="undefined"){if(typeof introJs=="undefined")return;var n=o.default("body").css("overflow"),t=this,i=y.get("tour");this.tour=introJs();this.tour.onbeforechange(function(){o.default("body").css("overflow","hidden")});this.tour.oncomplete(function(){o.default("body").css("overflow",n)});this.tour.onexit(function(){o.default("body").css("overflow",n)});this.tour.setOptions(i);o.default(".site-tour-trigger").on("click",function(){t.tour.start()})}}},{key:"setupWave",value:function(){typeof Waves!="undefined"&&(Waves.init(),Waves.attach(".site-navbar .navbar-toolbar a",["waves-light","waves-round"]),Waves.attach(".btn",["waves-classic"]))}}]),t}(p.default),a=null;n.default=l;n.Site=l;n.run=d;n.getInstance=v});